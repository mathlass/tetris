:root {
  --font-body:'Inter',system-ui,-apple-system,'Segoe UI',sans-serif;
  --font-heading:'Poppins','Inter',system-ui,-apple-system,'Segoe UI',sans-serif;
  --bg:#090b12;
  --fg:#e9ecf5;
  --muted:#a0a7bc;
  --accent:#6fe8ff;
  --accent-strong:#a58bff;
  --accent-soft:color-mix(in srgb,var(--accent) 22%,transparent 78%);
  --panel-bg:#141a27;
  --panel-border:#242d40;
  --canvas-bg:#080b13;
  --canvas-border:#1f2433;
  --stat-bg:#0d121f;
  --stat-border:#1f2738;
  --button-bg:#12192a;
  --button-border:#2b3447;
  --button-hover-bg:#192237;
  --button-primary-bg:linear-gradient(135deg,color-mix(in srgb,var(--accent) 85%,#01050b 15%),color-mix(in srgb,var(--accent-strong) 75%,#01050b 25%));
  --button-primary-border:color-mix(in srgb,var(--accent-strong) 55%,#02060b 45%);
  --button-primary-hover-bg:linear-gradient(135deg,color-mix(in srgb,var(--accent) 95%,#02060b 5%),color-mix(in srgb,var(--accent-strong) 85%,#02060b 15%));
  --button-primary-color:#041622;
  --button-primary-shadow:0 18px 36px color-mix(in srgb,var(--accent),transparent 72%);
  --button-primary-hover-shadow:0 22px 44px color-mix(in srgb,var(--accent-strong),transparent 60%);
  --kbd-bg:#222c3f;
  --kbd-border:#2d3852;
  --mini-bg:#0e1423;
  --mini-border:#1f273a;
  --input-bg:#0e1423;
  --input-border:#1f273a;
  --table-head-bg:#0d1525;
  --table-even-bg:#0f192b;
  --table-border:#1f273a;
  --panel-header-border:color-mix(in srgb,var(--accent),transparent 70%);
  --panel-header-bg:color-mix(in srgb,var(--panel-bg),transparent 10%);
  --panel-shadow:0 18px 42px color-mix(in srgb,var(--bg),#000 38%);
  --page-title-gradient:linear-gradient(120deg,var(--accent) 0%,color-mix(in srgb,var(--accent-strong),#fff 10%) 100%);
  --page-title-glow:0 18px 40px color-mix(in srgb,var(--accent),transparent 75%);
  --chip-bg:color-mix(in srgb,var(--accent-soft),transparent 20%);
  --chip-border:color-mix(in srgb,var(--accent),transparent 60%);
  --timer-track-bg:color-mix(in srgb,var(--panel-border),transparent 60%);
  --timer-track-fill:linear-gradient(90deg,color-mix(in srgb,var(--accent) 80%,#fff 10%),color-mix(in srgb,var(--accent-strong) 80%,#fff 4%));
  --sudoku-outer-border:color-mix(in srgb,var(--accent) 82%,transparent 18%);
  --sudoku-block-border:var(--sudoku-outer-border);
  --sudoku-block-divider-width:2px;
  --sudoku-cell-border:color-mix(in srgb,var(--canvas-border),transparent 38%);
  --sudoku-block-surface:color-mix(in srgb,var(--accent) 18%,transparent 82%);
  --sudoku-block-surface-alt:color-mix(in srgb,var(--accent) 6%,transparent 94%);
  --sudoku-block-chess:color-mix(in srgb,var(--accent) 12%,transparent 88%);
  --overlay-celebration:color-mix(in srgb,var(--accent) 55%,#fff 8%);
  --snake-board-surface:color-mix(in srgb,var(--accent) 18%,transparent 82%);
  --snake-board-border:color-mix(in srgb,var(--accent) 55%,transparent 45%);
  --snake-board-shadow:0 18px 40px color-mix(in srgb,var(--accent),transparent 84%);
  --nonogram-cell-size:34px;
  --nonogram-cell-border:color-mix(in srgb,var(--canvas-border),transparent 20%);
  --nonogram-cell-bg:#ffffff;
  --nonogram-cell-filled:color-mix(in srgb,var(--accent) 25%,#ffffff 75%);
  --nonogram-cell-mark:color-mix(in srgb,var(--accent-strong) 55%,#ffffff 45%);
  --nonogram-cell-mark-symbol:var(--fg);
  --nonogram-clue-color:color-mix(in srgb,var(--muted),transparent 20%);
  --nonogram-clue-accent:var(--fg);
}
.theme-light {
  --bg:#f8fbff;
  --fg:#202438;
  --muted:#5f6785;
  --accent:#2f7bff;
  --accent-strong:#5f4bff;
  --accent-soft:color-mix(in srgb,var(--accent) 18%,transparent 82%);
  --panel-bg:#ffffff;
  --panel-border:#dbe3f1;
  --canvas-bg:#ffffff;
  --canvas-border:#d6e0f0;
  --stat-bg:#ffffff;
  --stat-border:#dce3f0;
  --button-bg:#eef2ff;
  --button-border:#d4dcf5;
  --button-hover-bg:#e1e8ff;
  --button-primary-bg:linear-gradient(135deg,color-mix(in srgb,var(--accent) 88%,#fff 12%),color-mix(in srgb,var(--accent-strong) 80%,#fff 20%));
  --button-primary-border:color-mix(in srgb,var(--accent-strong) 50%,#24326f 50%);
  --button-primary-hover-bg:linear-gradient(135deg,color-mix(in srgb,var(--accent) 96%,#fff 4%),color-mix(in srgb,var(--accent-strong) 90%,#fff 10%));
  --button-primary-color:#ffffff;
  --button-primary-shadow:0 16px 34px color-mix(in srgb,var(--accent),transparent 72%);
  --button-primary-hover-shadow:0 20px 42px color-mix(in srgb,var(--accent-strong),transparent 62%);
  --kbd-bg:#e5e9f7;
  --kbd-border:#d1d9f3;
  --mini-bg:#f5f7ff;
  --mini-border:#d7def1;
  --input-bg:#f5f7ff;
  --input-border:#d7def1;
  --table-head-bg:#f3f6ff;
  --table-even-bg:#f7f9ff;
  --table-border:#d7def1;
  --panel-header-border:color-mix(in srgb,var(--accent),transparent 55%);
  --panel-header-bg:color-mix(in srgb,var(--accent),transparent 92%);
  --panel-shadow:0 16px 38px color-mix(in srgb,var(--accent),transparent 88%);
  --page-title-gradient:linear-gradient(120deg,color-mix(in srgb,var(--accent) 90%,#fff 10%) 0%,color-mix(in srgb,var(--accent-strong) 80%,#fff 20%) 100%);
  --page-title-glow:0 18px 40px color-mix(in srgb,var(--accent),transparent 75%);
  --chip-bg:color-mix(in srgb,var(--accent) 12%,transparent 88%);
  --chip-border:color-mix(in srgb,var(--accent),transparent 72%);
  --timer-track-bg:color-mix(in srgb,var(--accent),transparent 90%);
  --timer-track-fill:linear-gradient(90deg,color-mix(in srgb,var(--accent) 88%,#fff 12%),color-mix(in srgb,var(--accent-strong) 85%,#fff 15%));
  --sudoku-outer-border:color-mix(in srgb,var(--accent) 70%,transparent 30%);
  --sudoku-block-border:var(--sudoku-outer-border);
  --sudoku-block-divider-width:2px;
  --sudoku-cell-border:color-mix(in srgb,var(--canvas-border),transparent 45%);
  --sudoku-block-surface:color-mix(in srgb,var(--accent) 26%,transparent 74%);
  --sudoku-block-surface-alt:color-mix(in srgb,var(--accent) 12%,transparent 88%);
  --sudoku-block-chess:color-mix(in srgb,var(--accent) 18%,transparent 82%);
  --overlay-celebration:color-mix(in srgb,var(--accent) 55%,#fff 35%);
  --snake-board-surface:#ffffff;
  --snake-board-border:color-mix(in srgb,var(--accent) 35%,transparent 65%);
  --snake-board-shadow:0 18px 34px color-mix(in srgb,var(--accent),transparent 86%);
  --nonogram-cell-border:color-mix(in srgb,var(--canvas-border),transparent 35%);
  --nonogram-cell-bg:#ffffff;
  --nonogram-cell-filled:color-mix(in srgb,var(--accent) 18%,#ffffff 82%);
  --nonogram-cell-mark:color-mix(in srgb,var(--accent-strong) 45%,#ffffff 55%);
  --nonogram-cell-mark-symbol:var(--fg);
  --nonogram-clue-color:color-mix(in srgb,var(--muted),transparent 35%);
}

.theme-aurora {
  --bg:#03060f;
  --fg:#e6f5ff;
  --muted:#8aa3c3;
  --accent:#7cffd6;
  --accent-strong:#9b7dff;
  --accent-soft:color-mix(in srgb,var(--accent) 25%,transparent 75%);
  --panel-bg:#0a1022;
  --panel-border:#1b2440;
  --canvas-bg:#040915;
  --canvas-border:#1c2646;
  --stat-bg:#070d1e;
  --stat-border:#1a2240;
  --button-bg:#0c1428;
  --button-border:#1f2a45;
  --button-hover-bg:#121d36;
  --button-primary-bg:linear-gradient(135deg,color-mix(in srgb,var(--accent) 90%,#01060f 10%),color-mix(in srgb,var(--accent-strong) 80%,#01050e 20%));
  --button-primary-border:color-mix(in srgb,var(--accent-strong) 60%,#020812 40%);
  --button-primary-hover-bg:linear-gradient(135deg,color-mix(in srgb,var(--accent) 98%,#01060f 2%),color-mix(in srgb,var(--accent-strong) 90%,#01050e 10%));
  --button-primary-color:#04161f;
  --button-primary-shadow:0 24px 46px color-mix(in srgb,var(--accent),transparent 65%);
  --button-primary-hover-shadow:0 28px 54px color-mix(in srgb,var(--accent-strong),transparent 58%);
  --kbd-bg:#182344;
  --kbd-border:#22305a;
  --mini-bg:#0b1226;
  --mini-border:#1c2745;
  --input-bg:#0b1226;
  --input-border:#1c2745;
  --table-head-bg:#0c142b;
  --table-even-bg:#0e1730;
  --table-border:#1c2745;
  --panel-header-border:color-mix(in srgb,var(--accent),transparent 55%);
  --panel-header-bg:color-mix(in srgb,var(--panel-bg),transparent 6%);
  --panel-shadow:0 22px 52px color-mix(in srgb,var(--accent-strong),transparent 72%);
  --page-title-gradient:linear-gradient(130deg,color-mix(in srgb,var(--accent) 85%,#fff 5%) 0%,color-mix(in srgb,var(--accent-strong) 85%,#fff 5%) 100%);
  --page-title-glow:0 24px 52px color-mix(in srgb,var(--accent-strong),transparent 70%);
  --chip-bg:color-mix(in srgb,var(--accent) 18%,transparent 82%);
  --chip-border:color-mix(in srgb,var(--accent-strong) 55%,transparent 45%);
  --timer-track-bg:color-mix(in srgb,var(--panel-border),transparent 40%);
  --timer-track-fill:linear-gradient(90deg,color-mix(in srgb,var(--accent) 88%,#fff 12%),color-mix(in srgb,var(--accent-strong) 90%,#fff 10%));
  --sudoku-outer-border:color-mix(in srgb,var(--accent) 88%,transparent 12%);
  --sudoku-block-border:var(--sudoku-outer-border);
  --sudoku-block-divider-width:2px;
  --sudoku-cell-border:color-mix(in srgb,var(--canvas-border),transparent 28%);
  --sudoku-block-surface:color-mix(in srgb,var(--accent) 26%,transparent 74%);
  --sudoku-block-surface-alt:color-mix(in srgb,var(--accent) 12%,transparent 88%);
  --sudoku-block-chess:color-mix(in srgb,var(--accent) 20%,transparent 80%);
  --overlay-celebration:color-mix(in srgb,var(--accent) 65%,#fff 12%);
  --snake-board-surface:color-mix(in srgb,var(--accent) 24%,transparent 76%);
  --snake-board-border:color-mix(in srgb,var(--accent) 65%,transparent 35%);
  --snake-board-shadow:0 24px 52px color-mix(in srgb,var(--accent-strong),transparent 78%);
  --nonogram-cell-border:color-mix(in srgb,var(--canvas-border),transparent 18%);
  --nonogram-cell-bg:#ffffff;
  --nonogram-cell-filled:color-mix(in srgb,var(--accent) 28%,#ffffff 72%);
  --nonogram-cell-mark:color-mix(in srgb,var(--accent-strong) 55%,#ffffff 45%);
  --nonogram-cell-mark-symbol:var(--fg);
  --nonogram-clue-color:color-mix(in srgb,var(--muted),transparent 22%);
}
*,*::before,*::after{box-sizing:border-box}

html,body{
  height:100%;
}

html{
  font-size:16px;
}

body{
  margin:0;
  color:var(--fg);
  background:radial-gradient(circle at 20% 20%,color-mix(in srgb,var(--accent),transparent 90%) 0%,transparent 55%),radial-gradient(circle at 80% 15%,color-mix(in srgb,var(--accent-strong),transparent 92%) 0%,transparent 60%),linear-gradient(145deg,color-mix(in srgb,var(--bg),#000 12%) 0%,color-mix(in srgb,var(--bg),#fff 4%) 100%);
  font-family:var(--font-body);
  line-height:1.55;
  letter-spacing:0.01em;
  overflow-x:hidden;
  overflow-y:auto;
  min-height:100%;
  position:relative;
}

body::before{
  content:"";
  position:fixed;
  inset:0;
  z-index:-1;
  background:radial-gradient(circle at 15% 85%,color-mix(in srgb,var(--accent-strong),transparent 80%) 0%,transparent 65%),radial-gradient(circle at 85% 80%,color-mix(in srgb,var(--accent),transparent 84%) 0%,transparent 68%);
  opacity:0.85;
  pointer-events:none;
}

body::after{
  content:"";
  position:fixed;
  inset:0;
  z-index:-2;
  background:linear-gradient(160deg,color-mix(in srgb,var(--bg),#000 12%) 0%,color-mix(in srgb,var(--bg),#111 4%) 100%);
}

.wrap{max-width:1040px;margin:32px auto;padding:0 20px;display:grid;grid-template-columns:1fr auto;gap:28px}
#snakeWrap .wrap{grid-template-columns:minmax(0,520px);justify-content:center}
#snakeWrap .wrap > div{width:100%;max-width:520px;margin:0 auto}
h1{font-family:var(--font-heading);font-size:30px;letter-spacing:1px;margin:0 0 10px;font-weight:700}
p{color:var(--muted);margin:0 0 16px}
.page-header{display:flex;flex-direction:column;gap:6px;margin-bottom:18px}
.page-title{display:flex;align-items:center;gap:12px;font-size:clamp(28px,4vw,38px);margin:0;text-transform:none;letter-spacing:.8px}
.page-title__icon{font-size:1.5em;filter:drop-shadow(0 6px 18px color-mix(in srgb,var(--accent),transparent 70%))}
.page-title__text{background:var(--page-title-gradient);-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:var(--page-title-glow)}
.page-header__lead{margin:0;color:var(--muted);font-size:.98rem;max-width:52ch}
.grid{display:grid;grid-template-columns:minmax(0,360px) repeat(2,minmax(0,1fr));gap:18px;align-items:start}
.game-area{display:flex;flex-direction:column;gap:12px;align-items:center}
@media (max-width:720px){
  .wrap{grid-template-columns:1fr;margin:24px auto;padding:0 16px}
  .grid{grid-template-columns:1fr}
  .board-wrap{max-width:92vw}
  .controls--bar{flex-direction:column;align-items:flex-start;gap:10px}
  .timer-meter{width:100%;align-items:flex-start}
}
.timer-meter__track::after{content:"";position:absolute;inset:0;border-radius:inherit;box-shadow:0 0 18px color-mix(in srgb,var(--accent),transparent 80%);opacity:.4;pointer-events:none}
.timer-meter__track::before{content:"";position:absolute;inset:-18px;border-radius:inherit;background:radial-gradient(circle,var(--accent) 0%,transparent 60%);opacity:.08;pointer-events:none}
@media (max-width:480px){
  body{font-size:15px}
  .page-header{margin-bottom:14px}
  .page-title{font-size:clamp(24px,9vw,32px)}
  .top-controls{flex-direction:column;align-items:stretch}
  button{width:100%;justify-content:center}
  .stat-inline{width:100%;justify-content:space-between}
}
.panel{
  background:color-mix(in srgb,var(--panel-bg),transparent 18%);
  backdrop-filter:blur(16px) saturate(1.15);
  border:1px solid var(--panel-border);
  border-radius:18px;
  padding:18px 20px;
  box-shadow:var(--panel-shadow);
  min-width:0;
  position:relative;
  overflow:hidden;
  transition:transform .25s ease,box-shadow .3s ease,border-color .3s ease;
}

.panel::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:inherit;
  pointer-events:none;
  opacity:0;
  background:radial-gradient(circle at top,color-mix(in srgb,var(--accent),transparent 90%) 0%,transparent 70%);
  transition:opacity .3s ease;
}

.panel:hover{
  transform:translateY(-2px);
  box-shadow:0 24px 48px color-mix(in srgb,var(--accent),transparent 82%);
  border-color:color-mix(in srgb,var(--accent),transparent 70%);
}

.panel:hover::after{opacity:.6}

.panel--info{gap:12px;display:flex;flex-direction:column}

.panel__header{
  display:flex;
  align-items:center;
  gap:12px;
  padding-bottom:10px;
  margin-bottom:12px;
  border-bottom:1px solid var(--panel-header-border);
  background:var(--panel-header-bg);
  border-radius:12px;
  padding-inline:12px;
  padding-top:10px;
  margin-inline:-12px;
}

.panel__header h3{margin:0;font-family:var(--font-heading);font-size:1.05rem;letter-spacing:.5px;text-transform:uppercase}
canvas{display:block;background:var(--canvas-bg);border-radius:14px;border:1px solid var(--canvas-border);box-shadow:0 18px 38px color-mix(in srgb,var(--accent),transparent 86%)}
#snakeCanvas{touch-action:none;-webkit-user-select:none;user-select:none;background:var(--snake-board-surface);border:1px solid var(--snake-board-border);box-shadow:var(--snake-board-shadow);width:100%;max-width:330px;aspect-ratio:1;height:auto;display:block;margin:0 auto}
.stats{display:flex;flex-direction:column;gap:8px}
.stat{background:color-mix(in srgb,var(--stat-bg),transparent 10%);border:1px solid color-mix(in srgb,var(--stat-border),transparent 30%);border-radius:16px;padding:12px;text-align:center;box-shadow:0 14px 28px color-mix(in srgb,var(--accent),transparent 86%)}
.stat b{display:block;font-size:24px;margin-top:8px;color:var(--accent);font-weight:600;letter-spacing:1.2px;text-shadow:0 8px 18px color-mix(in srgb,var(--accent),transparent 80%)}
.buttons{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
button{
  cursor:pointer;
  border:1px solid var(--button-border);
  background:var(--button-bg);
  color:var(--fg);
  padding:10px 16px;
  border-radius:12px;
  touch-action:manipulation;
  transition:background .2s ease,transform .15s ease,box-shadow .25s ease;
  display:flex;
  align-items:center;
  gap:8px;
  font:500 0.95rem/1 var(--font-body);
  position:relative;
  isolation:isolate;
  box-shadow:0 12px 26px color-mix(in srgb,var(--button-border),transparent 78%);
}

button::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:inherit;
  background:linear-gradient(140deg,color-mix(in srgb,var(--accent),transparent 92%) 0%,transparent 65%);
  opacity:0;
  transition:opacity .25s ease;
  z-index:-1;
}

button:hover{
  background:var(--button-hover-bg);
  transform:translateY(-1px);
  box-shadow:0 18px 32px color-mix(in srgb,var(--accent),transparent 82%);
}

button:hover::after{opacity:.4}

button:active{transform:scale(.97)}

.icon{display:inline-flex;align-items:center;justify-content:center;font-size:18px;min-width:1.35em;filter:drop-shadow(0 4px 10px color-mix(in srgb,var(--accent),transparent 80%))}

.button-primary .icon{font-size:20px}

button:focus-visible{
  outline:none;
  box-shadow:0 0 0 3px color-mix(in srgb,var(--accent),transparent 60%),0 0 0 1px color-mix(in srgb,var(--accent),transparent 15%) inset,0 12px 26px color-mix(in srgb,var(--accent),transparent 80%);
}
kbd{background:var(--kbd-bg);border:1px solid var(--kbd-border);border-bottom-width:3px;border-radius:6px;padding:2px 6px;margin:0 2px}
ul{padding:0;margin:6px 0;list-style:none;display:flex;flex-direction:column;gap:10px}
li{position:relative;padding-left:26px;color:var(--muted)}
li::before{content:"";position:absolute;left:0;top:8px;width:12px;height:12px;border-radius:50%;background:var(--chip-bg);box-shadow:0 4px 12px color-mix(in srgb,var(--accent),transparent 80%);border:1px solid var(--chip-border)}
b{color:var(--fg);font-weight:600}
.mini{background:var(--mini-bg);border:1px solid var(--mini-border);border-radius:12px;padding:6px}
.footer{grid-column:1/-1;color:var(--muted);margin-top:8px}
.tag{display:inline-flex;align-items:center;gap:6px;font-size:.8rem;font-weight:600;color:var(--accent);background:var(--chip-bg);border:1px solid var(--chip-border);padding:6px 12px;border-radius:999px;letter-spacing:.6px;text-transform:uppercase;box-shadow:0 10px 24px color-mix(in srgb,var(--accent),transparent 86%)}
.controls{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin:10px 0}
.controls--bar{justify-content:space-between;align-items:center;margin-bottom:12px;gap:12px}
.top-controls{margin-bottom:12px;gap:10px;flex-wrap:wrap}
#snakeWrap .top-controls{justify-content:center}
#sudokuWrap .top-controls{justify-content:center}
#nonogramWrap .top-controls{justify-content:center}
#snakeWrap .top-controls > *{margin-left:0;margin-right:0}
#snakeWrap .panel > .controls:first-child{
  width:100%;
  justify-content:space-between;
}
.input{background:var(--input-bg);border:1px solid var(--input-border);border-radius:12px;padding:10px 12px;color:var(--fg);transition:border-color .2s ease,box-shadow .2s ease,background .2s ease}
.input:focus{outline:none;border-color:color-mix(in srgb,var(--accent),transparent 45%);box-shadow:0 0 0 3px color-mix(in srgb,var(--accent),transparent 80%)}
select.input{background:var(--input-bg);border:1px solid var(--input-border);color:var(--fg)}
select.input option{background:var(--input-bg);color:var(--fg)}
.stat-inline{display:flex;gap:12px;align-items:center;color:var(--muted);font-weight:500;width:100%;justify-content:space-between}
.timer{font-weight:600;font-size:17px;color:var(--accent);letter-spacing:.6px}
.controls > .timer,
.controls .stat-inline .timer{
  flex:1;
  min-width:0;
}
.controls > .timer:first-child,
.controls .stat-inline .timer:first-child{
  text-align:left;
}
.controls > .timer:last-child,
.controls .stat-inline .timer:last-child{
  text-align:right;
}
.controls .stat-inline{flex:1}
.timer-meter{display:flex;flex-direction:column;align-items:flex-end;gap:6px;min-width:160px}
.timer-meter[hidden]{display:none}
.timer-meter__track{width:100%;height:6px;border-radius:999px;background:var(--timer-track-bg);overflow:hidden;position:relative;border:1px solid color-mix(in srgb,var(--timer-track-bg),transparent 30%)}
.timer-meter__fill{position:absolute;inset:0;background:var(--timer-track-fill);transform:scaleX(1);transform-origin:left center;transition:transform .35s ease}
.table{width:100%;border-collapse:collapse;margin-top:8px}
.table th,.table td{border:1px solid var(--table-border);padding:8px;text-align:left}
.table thead th{background:var(--table-head-bg);color:var(--muted)}
.table tbody tr:hover{background:color-mix(in srgb,var(--table-head-bg),transparent 60%)}
.table tbody tr:nth-child(even){background:var(--table-even-bg)}
#hsTable td:nth-child(1),
#hsTable td:nth-child(3),
#hsTable td:nth-child(4),
#snakeScoreTable td:nth-child(1),
#snakeScoreTable td:nth-child(3),
#snakeHsTable td:nth-child(1),
#snakeHsTable td:nth-child(3),
#sudokuScoreTable td:nth-child(1),
#sudokuScoreTable td:nth-child(3),
#sudokuOvTable td:nth-child(1),
#sudokuOvTable td:nth-child(3){text-align:right}
/* Menu Overlay */
#menuOverlay{position:fixed;inset:0;overflow-y:auto;background:radial-gradient(circle at 10% 10%,color-mix(in srgb,var(--accent),transparent 75%) 0%,rgba(0,0,0,.85) 55%),rgba(0,0,0,.65);padding:32px 18px;opacity:0;pointer-events:none;transition:opacity .25s ease;z-index:9998;backdrop-filter:blur(8px) saturate(1.05)}
#menuOverlay.show{opacity:1;pointer-events:auto}
#menuOverlay [role="tablist"] button.active{background:var(--button-hover-bg)}
#menuOverlay .menu-overlay__inner{max-width:760px;margin:0 auto;display:flex;flex-direction:column;gap:20px}
#menuOverlay .menu-overlay__inner .controls{justify-content:center}
#menuOverlay .panel{width:100%;box-sizing:border-box}
/* Overlay Game Over */
#overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .25s ease;background:rgba(0,0,0,.45);backdrop-filter:blur(2px) saturate(1.1);z-index:9999}
#overlay.show{opacity:1;pointer-events:auto}
#overlay .overlay-card{background:var(--stat-bg);border:1px solid var(--stat-border);border-radius:16px;padding:20px 22px;min-width:320px;max-width:90vw;animation:pop .3s ease-out}
#overlay h2{margin:0 0 6px;font-weight:600;letter-spacing:1px}
#snakeOverlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .25s ease;background:rgba(0,0,0,.45);backdrop-filter:blur(2px) saturate(1.1);z-index:9999;padding:18px;box-sizing:border-box}
#snakeOverlay.show{opacity:1;pointer-events:auto}
#snakeOverlay .overlay-card{background:var(--stat-bg);border:1px solid var(--stat-border);border-radius:16px;padding:20px 22px;min-width:320px;max-width:90vw;max-height:calc(100vh - 48px);overflow:auto;animation:pop .3s ease-out}
#snakeOverlay h2{margin:0 0 6px;font-weight:600;letter-spacing:1px}
#sudokuOverlay{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  opacity:0;
  pointer-events:none;
  transition:opacity .25s ease;
  background:radial-gradient(circle at top,var(--overlay-celebration) 0%,rgba(0,0,0,.65) 40%,rgba(0,0,0,.82) 100%);
  backdrop-filter:blur(3px) saturate(1.15);
  z-index:9999;
}
#sudokuOverlay::before,
#sudokuOverlay::after{
  content:"";
  position:absolute;
  inset:0;
  background-image:radial-gradient(circle at 20% 20%,rgba(255,255,255,.25) 0 3px,transparent 4px),radial-gradient(circle at 80% 10%,rgba(255,255,255,.2) 0 2px,transparent 3px),radial-gradient(circle at 40% 80%,rgba(255,255,255,.25) 0 2px,transparent 3px),radial-gradient(circle at 70% 70%,rgba(255,255,255,.18) 0 3px,transparent 3px);
  opacity:0;
  pointer-events:none;
  animation:sudoku-confetti 9s linear infinite;
}
#sudokuOverlay::after{
  animation-duration:7s;
  animation-direction:reverse;
  mix-blend-mode:screen;
}
#sudokuOverlay.show{
  opacity:1;
  pointer-events:auto;
}
#sudokuOverlay.show::before,
#sudokuOverlay.show::after{
  opacity:.45;
}
#sudokuOverlay .overlay-card{
  position:relative;
  background:linear-gradient(145deg,color-mix(in srgb,var(--stat-bg),transparent 10%) 0%,color-mix(in srgb,var(--accent),transparent 82%) 100%);
  border:1px solid color-mix(in srgb,var(--accent),transparent 60%);
  border-radius:20px;
  padding:24px 26px;
  min-width:320px;
  max-width:90vw;
  box-shadow:0 22px 46px color-mix(in srgb,var(--accent),transparent 80%),0 18px 38px color-mix(in srgb,var(--bg),#000 55%);
  overflow:hidden;
  animation:pop .3s ease-out;
}
#sudokuOverlay .overlay-card::before{
  content:"";
  position:absolute;
  inset:-60% -30% auto -30%;
  height:120%;
  background:radial-gradient(circle,var(--overlay-celebration) 0%,transparent 70%);
  opacity:.35;
  pointer-events:none;
}
#nonogramOverlay{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  opacity:0;
  pointer-events:none;
  transition:opacity .25s ease;
  background:radial-gradient(circle at 50% 18%,color-mix(in srgb,var(--accent),transparent 70%) 0%,rgba(0,0,0,.75) 55%,rgba(0,0,0,.88) 100%);
  backdrop-filter:blur(3px) saturate(1.12);
  z-index:9999;
  padding:18px;
  box-sizing:border-box;
}
#nonogramOverlay.show{
  opacity:1;
  pointer-events:auto;
}
#nonogramOverlay .overlay-card{
  position:relative;
  background:linear-gradient(150deg,color-mix(in srgb,var(--stat-bg),transparent 12%) 0%,color-mix(in srgb,var(--accent),transparent 80%) 100%);
  border:1px solid color-mix(in srgb,var(--accent),transparent 55%);
  border-radius:20px;
  padding:24px 26px;
  min-width:320px;
  max-width:90vw;
  max-height:calc(100vh - 72px);
  overflow:auto;
  box-shadow:0 24px 52px color-mix(in srgb,var(--accent),transparent 82%),0 18px 36px color-mix(in srgb,var(--bg),#000 55%);
  animation:pop .3s ease-out;
}
#nonogramOverlay h2{margin:0 0 8px;font-weight:700;letter-spacing:.5px;}
#sudokuOverlay h2{
  margin:0 0 6px;
  font-weight:600;
  letter-spacing:1px;
  font-size:26px;
}
@keyframes intro-float{0%,100%{transform:translateY(0)}50%{transform:translateY(-4px)}}
@keyframes intro-pulse{0%,100%{opacity:.18;transform:scale(1)}50%{opacity:.32;transform:scale(1.08)}}
@keyframes pop{from{transform:scale(.95);opacity:.6} to{transform:scale(1);opacity:1}}
@media (prefers-reduced-motion:reduce){
  *,*::before,*::after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}
  .panel,button{transition:none!important}
}
/* Pause Overlay */
.board-wrap{position:relative;touch-action:none;width:100%;max-width:300px;margin:0 auto}
#game{width:100%;height:auto}
#pauseOverlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:48px;letter-spacing:2px;color:var(--fg);background:rgba(0,0,0,.35);opacity:0;pointer-events:none;transition:opacity .2s ease;border-radius:12px}
#pauseOverlay.show{opacity:1}
.hidden{display:none!important}
[aria-label]::before,[aria-label]::after{display:none;content:none}
dialog{border:1px solid var(--panel-border);background:var(--panel-bg);color:var(--fg);border-radius:12px;padding:16px}
dialog::backdrop{background:rgba(0,0,0,.45)}
#introScreen{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at 20% 20%,color-mix(in srgb,var(--accent),transparent 70%) 0%,rgba(0,0,0,.75) 50%),rgba(0,0,0,.55);backdrop-filter:blur(10px) saturate(1.2);z-index:10000;transition:opacity .3s ease,visibility .3s ease}
#introScreen.hide{opacity:0;visibility:hidden;pointer-events:none}
#introScreen .intro-card{position:relative;background:color-mix(in srgb,var(--panel-bg),transparent 6%);border:1px solid color-mix(in srgb,var(--accent),transparent 65%);border-radius:22px;padding:32px 36px;max-width:440px;margin:16px;box-shadow:0 28px 60px color-mix(in srgb,var(--accent),transparent 78%),0 18px 40px color-mix(in srgb,var(--bg),#000 50%);text-align:center;overflow:hidden;animation:intro-float 6s ease-in-out infinite}
.intro-card__glow{position:absolute;inset:-40% -20%;background:radial-gradient(circle,var(--accent) 0%,transparent 65%);opacity:.28;filter:blur(12px);pointer-events:none;animation:intro-pulse 5s ease-in-out infinite}
#introScreen h1{margin:0 0 8px;font-size:32px;letter-spacing:1px;font-family:var(--font-heading);background:var(--page-title-gradient);-webkit-background-clip:text;background-clip:text;color:transparent}
#introScreen p{margin:0 0 24px;color:var(--muted)}
.intro-form{display:flex;flex-direction:column;gap:20px}
.intro-label{display:flex;flex-direction:column;gap:8px;text-align:left;font-weight:600;color:var(--muted)}
.intro-label .input{width:100%}
.intro-submit{align-self:center;font-size:16px;padding:12px 26px}
.intro-submit .icon{font-size:22px}
.button-primary{background:var(--button-primary-bg);border:1px solid var(--button-primary-border);color:var(--button-primary-color);box-shadow:var(--button-primary-shadow);transition:background .2s ease,transform .1s ease,box-shadow .2s ease}
.button-primary:hover{background:var(--button-primary-hover-bg);box-shadow:var(--button-primary-hover-shadow);transform:translateY(-1px)}
.button-primary:active{transform:scale(.95)}
.sudoku-panel{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:16px;
}
.sudoku-stats{
  gap:16px;
  justify-content:center;
}
.sudoku-grid{
  position:relative;
  width:min(520px,100%);
  max-width:100%;
  aspect-ratio:1;
  display:grid;
  grid-template-columns:repeat(9,1fr);
  grid-template-rows:repeat(9,1fr);
  background:var(--canvas-bg);
  border:4px solid var(--sudoku-outer-border);
  overflow:hidden;
  box-shadow:0 24px 48px color-mix(in srgb,var(--bg),#000 50%),0 12px 22px color-mix(in srgb,var(--accent),transparent 80%);
  transition:box-shadow .3s ease,transform .3s ease;
}
.sudoku-grid::before{
  content:"";
  position:absolute;
  inset:0;
  background:radial-gradient(circle at 50% 32%,color-mix(in srgb,var(--accent),transparent 92%),transparent 65%);
  background-repeat:no-repeat;
  mix-blend-mode:normal;
  opacity:.18;
  pointer-events:none;
  transition:opacity .3s ease;
}
.sudoku-grid::after{
  content:"";
  position:absolute;
  inset:0;
  background:
    linear-gradient(90deg,transparent calc(100%/3 - var(--sudoku-block-divider-width) / 2),var(--sudoku-block-border) calc(100%/3 - var(--sudoku-block-divider-width) / 2),var(--sudoku-block-border) calc(100%/3 + var(--sudoku-block-divider-width) / 2),transparent calc(100%/3 + var(--sudoku-block-divider-width) / 2)),
    linear-gradient(90deg,transparent calc(2*100%/3 - var(--sudoku-block-divider-width) / 2),var(--sudoku-block-border) calc(2*100%/3 - var(--sudoku-block-divider-width) / 2),var(--sudoku-block-border) calc(2*100%/3 + var(--sudoku-block-divider-width) / 2),transparent calc(2*100%/3 + var(--sudoku-block-divider-width) / 2)),
    linear-gradient(0deg,transparent calc(100%/3 - var(--sudoku-block-divider-width) / 2),var(--sudoku-block-border) calc(100%/3 - var(--sudoku-block-divider-width) / 2),var(--sudoku-block-border) calc(100%/3 + var(--sudoku-block-divider-width) / 2),transparent calc(100%/3 + var(--sudoku-block-divider-width) / 2)),
    linear-gradient(0deg,transparent calc(2*100%/3 - var(--sudoku-block-divider-width) / 2),var(--sudoku-block-border) calc(2*100%/3 - var(--sudoku-block-divider-width) / 2),var(--sudoku-block-border) calc(2*100%/3 + var(--sudoku-block-divider-width) / 2),transparent calc(2*100%/3 + var(--sudoku-block-divider-width) / 2));
  background-repeat:no-repeat;
  pointer-events:none;
  z-index:1;
}
.sudoku-grid.note-mode-active{
  box-shadow:0 26px 56px color-mix(in srgb,var(--accent),transparent 65%),0 18px 32px color-mix(in srgb,var(--bg),#000 55%);
  transform:translateY(-2px);
}
.sudoku-grid.note-mode-active::before{
  opacity:.45;
}
.sudoku-grid.mark-mode-active .sudoku-cell{
  transition:background .2s ease,color .2s ease,box-shadow .2s ease,transform .2s ease,opacity .2s ease;
}
.sudoku-grid.mark-mode-active .sudoku-cell:not(.highlight-number):not(.selected){
  opacity:.55;
}
.sudoku-cell{
  position:relative;
  border:1px solid var(--sudoku-cell-border);
  font-size:clamp(18px,3.5vw,24px);
  font-weight:500;
  display:flex;
  align-items:center;
  justify-content:center;
  color:var(--fg);
  padding:0;
  --cell-bg:transparent;
  background:var(--cell-bg);
  transition:background .2s ease,color .2s ease,box-shadow .2s ease,transform .2s ease;
  transform-origin:center;
  will-change:transform;
}
.sudoku-cell:disabled,
.sudoku-cell[aria-disabled="true"]{
  cursor:default;
}
.sudoku-cell.fixed{
  --cell-bg:transparent;
  color:var(--muted);
  font-weight:600;
}
.sudoku-cell.correct{
  --cell-bg:color-mix(in srgb,var(--panel-bg),transparent 6%);
  color:var(--muted);
  font-weight:600;
}
.sudoku-cell.filled{
  --cell-bg:var(--sudoku-block-surface-alt);
  color:var(--fg);
}
.sudoku-cell.filled.correct{
  --cell-bg:color-mix(in srgb,var(--panel-bg),transparent 6%);
  color:var(--muted);
  font-weight:600;
}
.sudoku-cell.filled.block-accent{
  --cell-bg:var(--sudoku-block-surface);
}
.sudoku-cell.filled.correct.block-accent{
  --cell-bg:color-mix(in srgb,var(--panel-bg),transparent 6%);
}
.sudoku-cell.has-notes{
  --cell-bg:var(--sudoku-block-surface-alt);
  font-weight:500;
  font-size:0.72em;
}
.sudoku-cell.has-notes.block-accent{
  --cell-bg:var(--sudoku-block-surface);
}
.sudoku-cell.notes-region:not(.selected):not(.error){
  --cell-bg:color-mix(in srgb,var(--accent),transparent 88%);
}
.sudoku-cell.notes-region:not(.selected):not(.error):not(.highlight-row):not(.highlight-col):not(.highlight-number):not(.highlight-block)::after{
  content:"";
  position:absolute;
  inset:4px;
  border-radius:10px;
  border:1px dashed color-mix(in srgb,var(--accent),transparent 60%);
  opacity:.65;
  pointer-events:none;
}
.sudoku-cell.highlight-row:not(.selected):not(.error),
.sudoku-cell.highlight-col:not(.selected):not(.error){
  --cell-bg:color-mix(in srgb,var(--accent),transparent 88%);
  box-shadow:0 0 0 1px color-mix(in srgb,var(--accent),transparent 70%) inset;
}
.sudoku-cell.highlight-block:not(.selected):not(.error){
  --cell-bg:color-mix(in srgb,var(--accent),transparent 92%);
}
.sudoku-cell.highlight-row.highlight-col:not(.selected):not(.error){
  --cell-bg:color-mix(in srgb,var(--accent),transparent 82%);
  box-shadow:0 0 0 2px color-mix(in srgb,var(--accent),transparent 55%) inset;
}
.sudoku-cell.highlight-number:not(.selected):not(.error){
  --cell-bg:color-mix(in srgb,var(--accent),transparent 78%);
  box-shadow:0 0 0 2px color-mix(in srgb,var(--accent),transparent 45%) inset;
}
.sudoku-cell.selected{
  --cell-bg:color-mix(in srgb,var(--accent),transparent 72%);
  box-shadow:0 0 0 2px var(--accent) inset,0 10px 24px color-mix(in srgb,var(--accent),transparent 78%);
  transform:scale(1.03);
  z-index:2;
  animation:none;
}
.sudoku-cell.error{
  --cell-bg:color-mix(in srgb,#b00020,transparent 68%);
  color:#fff;
  box-shadow:0 0 0 2px #b00020 inset;
  animation:sudoku-error .35s ease;
}
.sudoku-cell:not([aria-disabled="true"]):not(.selected):not(.error):hover{
  --cell-bg:color-mix(in srgb,var(--accent),transparent 85%);
  transform:translateY(-1px);
  box-shadow:0 10px 20px color-mix(in srgb,var(--accent),transparent 82%);
}
.sudoku-cell:focus-visible{
  outline:none;
  box-shadow:0 0 0 2px color-mix(in srgb,var(--accent),transparent 40%) inset,0 0 0 4px color-mix(in srgb,var(--accent),transparent 75%);
}
.sudoku-grid.note-mode-active .sudoku-cell:not(.selected):not(.error):not(.highlight-row):not(.highlight-col):not(.highlight-block){
  --cell-bg:color-mix(in srgb,var(--accent),transparent 90%);
}
.sudoku-grid.note-mode-active .sudoku-cell.has-notes{
  box-shadow:0 0 0 2px color-mix(in srgb,var(--accent),transparent 45%) inset;
}
.sudoku-grid.note-mode-active .sudoku-cell.notes-region:not(.selected):not(.error){
  --cell-bg:color-mix(in srgb,var(--accent),transparent 84%);
}
.sudoku-cell.border-top-block{
  border-top-width:2px;
  border-top-color:var(--sudoku-outer-border);
}
.sudoku-cell.border-left-block{
  border-left-width:2px;
  border-left-color:var(--sudoku-outer-border);
}
.sudoku-notes{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  grid-template-rows:repeat(3,1fr);
  width:100%;
  height:100%;
  gap:1px;
}
.sudoku-notes span{
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:clamp(11px,2vw,14px);
  color:var(--muted);
}
.sudoku-pad{
  display:flex;
  flex-direction:column;
  gap:20px;
  width:min(520px,100%);
  max-width:100%;
  background:color-mix(in srgb,var(--panel-bg),transparent 8%);
  border-radius:16px;
  padding:12px 14px 16px;
  border:1px solid color-mix(in srgb,var(--canvas-border),transparent 20%);
  transition:background .3s ease,box-shadow .3s ease;
}
.sudoku-pad.note-mode-active{
  background:color-mix(in srgb,var(--accent),transparent 85%);
  box-shadow:0 0 0 2px color-mix(in srgb,var(--accent),transparent 45%),0 18px 32px color-mix(in srgb,var(--accent),transparent 80%);
}
.sudoku-pad.mark-mode-active{
  box-shadow:0 0 0 2px color-mix(in srgb,var(--accent),transparent 35%);
}
.sudoku-pad-keys{
  display:grid;
  grid-template-columns:repeat(3,minmax(0,1fr));
  gap:8px;
}
.sudoku-pad-keys button{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:4px;
}
.sudoku-pad button{
  font-size:clamp(16px,3.2vw,20px);
  padding:10px;
  border-radius:12px;
  background:color-mix(in srgb,var(--panel-bg),transparent 10%);
  border:1px solid color-mix(in srgb,var(--canvas-border),transparent 20%);
  transition:background .2s ease,box-shadow .2s ease,transform .2s ease;
}
.sudoku-pad button.selected{
  background:color-mix(in srgb,var(--accent),transparent 75%);
  box-shadow:0 0 0 2px var(--accent) inset,0 12px 28px color-mix(in srgb,var(--accent),transparent 75%);
  transform:translateY(-1px);
}
.sudoku-pad button:hover:not([aria-disabled="true"]){
  background:color-mix(in srgb,var(--accent),transparent 82%);
  box-shadow:0 10px 24px color-mix(in srgb,var(--accent),transparent 80%);
  transform:translateY(-2px);
}
.sudoku-pad button:focus-visible{
  outline:none;
  box-shadow:0 0 0 2px color-mix(in srgb,var(--accent),transparent 40%) inset,0 0 0 4px color-mix(in srgb,var(--accent),transparent 75%);
}
.sudoku-pad button[aria-disabled="true"]{
  opacity:.55;
  cursor:default;
}
.sudoku-pad-number{
  font-size:clamp(18px,3.6vw,22px);
  font-weight:600;
}
.sudoku-pad-count{
  font-size:clamp(11px,2vw,14px);
  color:var(--muted);
  line-height:1;
}
.sudoku-pad-tools{
  display:grid;
  grid-template-columns:repeat(3,minmax(0,1fr));
  gap:8px;
}
.sudoku-tool{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:6px;
  font-size:clamp(14px,2.6vw,18px);
  padding:10px 12px;
  border-radius:12px;
  border:1px solid color-mix(in srgb,var(--canvas-border),transparent 12%);
  background:color-mix(in srgb,var(--panel-bg),transparent 16%);
  transition:background .2s ease,box-shadow .2s ease,transform .2s ease,color .2s ease;
}
.sudoku-tool .icon{font-size:1.2em;}
.sudoku-toggle{
  flex:1;
}
.sudoku-toggle[aria-pressed="true"]{
  background:color-mix(in srgb,var(--accent),transparent 55%);
  border-color:color-mix(in srgb,var(--accent),transparent 25%);
  color:#03121f;
  font-weight:600;
  box-shadow:0 0 0 2px color-mix(in srgb,var(--accent),transparent 35%) inset;
}
.sudoku-pad.note-mode-active #sudokuNoteToggle,
.sudoku-pad.mark-mode-active #sudokuMarkToggle{
  background:color-mix(in srgb,var(--accent),transparent 45%);
  color:#03121f;
  font-weight:700;
  box-shadow:0 0 0 3px color-mix(in srgb,var(--accent),transparent 35%) inset;
}
.nonogram-panel{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:18px;
}
.nonogram-grid{
  --nonogram-columns:10;
  --nonogram-rows:10;
  --nonogram-clue-offset:calc(var(--nonogram-cell-size) * 2.4);
  position:relative;
  display:grid;
  grid-template-columns:var(--nonogram-clue-offset) minmax(0,1fr);
  grid-template-rows:var(--nonogram-clue-offset) minmax(0,1fr);
  border:2px solid var(--nonogram-cell-border);
  background:var(--panel-bg);
  max-width:100%;
  max-height:100%;
  overflow:auto;
}
.nonogram-grid__corner{
  grid-column:1;
  grid-row:1;
  min-width:var(--nonogram-clue-offset);
  min-height:var(--nonogram-clue-offset);
  border-right:1px solid var(--nonogram-cell-border);
  border-bottom:1px solid var(--nonogram-cell-border);
  background:var(--panel-bg);
}
.nonogram-clues{
  display:grid;
  color:var(--nonogram-clue-color);
  font-weight:600;
  font-size:.85rem;
  letter-spacing:.02em;
  background:var(--panel-bg);
}
.nonogram-clues--cols{
  grid-column:2;
  grid-row:1;
  grid-template-columns:repeat(var(--nonogram-columns),var(--nonogram-cell-size));
  gap:2px;
  padding:8px 8px 12px;
  align-items:end;
  justify-items:center;
  min-height:var(--nonogram-clue-offset);
}
.nonogram-clues--rows{
  grid-column:1;
  grid-row:2;
  grid-template-rows:repeat(var(--nonogram-rows),var(--nonogram-cell-size));
  gap:2px;
  padding:12px 8px 12px 8px;
  justify-items:end;
  align-items:center;
  min-width:var(--nonogram-clue-offset);
}
.nonogram-clue{
  display:flex;
  gap:4px;
  align-items:center;
  justify-content:center;
  white-space:nowrap;
}
.nonogram-clue--col{
  flex-direction:column;
  justify-content:flex-end;
  min-height:100%;
}
.nonogram-clue--row{
  justify-content:flex-end;
}
.nonogram-clue span{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:1.3em;
  padding:0 4px;
}
.nonogram-cells{
  grid-column:2;
  grid-row:2;
  display:grid;
  grid-template-columns:repeat(var(--nonogram-columns),var(--nonogram-cell-size));
  grid-template-rows:repeat(var(--nonogram-rows),var(--nonogram-cell-size));
  gap:0;
  border:1px solid var(--nonogram-cell-border);
  background:var(--nonogram-cell-border);
}
.nonogram-cell{
  box-sizing:border-box;
  width:var(--nonogram-cell-size);
  height:var(--nonogram-cell-size);
  border:1px solid var(--nonogram-cell-border);
  background:var(--nonogram-cell-bg);
  display:flex;
  align-items:center;
  justify-content:center;
  color:var(--fg);
  cursor:pointer;
  transition:background .12s ease,border-color .12s ease;
}
.nonogram-cell:hover{
  border-color:color-mix(in srgb,var(--accent),transparent 45%);
}
.nonogram-cell:focus-visible{
  outline:2px solid color-mix(in srgb,var(--accent),transparent 35%);
  outline-offset:-2px;
}
.nonogram-cell--filled{
  background:var(--nonogram-cell-filled);
  border-color:color-mix(in srgb,var(--accent),transparent 35%);
}
.nonogram-cell--marked{
  background:var(--nonogram-cell-bg);
  border-color:color-mix(in srgb,var(--nonogram-cell-mark),transparent 40%);
}
.nonogram-cell--marked::after{
  content:'✕';
  color:var(--nonogram-cell-mark);
  font-size:1.1em;
  font-weight:700;
  line-height:1;
}
.nonogram-tools{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  justify-content:center;
}
.nonogram-tool{
  display:flex;
  align-items:center;
  gap:6px;
  padding:10px 18px;
  font-weight:600;
  border-radius:12px;
}
.nonogram-tool .icon{font-size:1.1em;}
.nonogram-tool:not(.button-primary){
  border:1px solid var(--button-border);
  background:var(--button-bg);
  color:var(--fg);
  transition:background .2s ease,border-color .2s ease,box-shadow .2s ease;
}
.nonogram-tool:not(.button-primary):hover{
  background:var(--button-hover-bg);
  border-color:color-mix(in srgb,var(--accent),transparent 55%);
}
.nonogram-tool.selected,
.nonogram-tool[aria-pressed="true"]{
  border-color:color-mix(in srgb,var(--accent),transparent 30%);
}
.nonogram-tool.selected:not(.button-primary),
.nonogram-tool[aria-pressed="true"]:not(.button-primary){
  box-shadow:0 0 0 2px color-mix(in srgb,var(--accent),transparent 55%) inset;
  background:color-mix(in srgb,var(--accent),transparent 82%);
  color:var(--nonogram-clue-accent);
}
.nonogram-tool.selected.button-primary,
.nonogram-tool[aria-pressed="true"].button-primary{
  box-shadow:var(--button-primary-hover-shadow);
}
@media (max-width:640px){
  .sudoku-panel{gap:14px;}
}
@media (max-width:480px){
  .sudoku-pad{padding:10px 12px 14px;}
  .sudoku-pad button{font-size:clamp(15px,6vw,18px);padding:12px;}
}
@media (max-width:700px){
  .nonogram-grid{
    --nonogram-cell-size:30px;
    --nonogram-clue-offset:calc(var(--nonogram-cell-size) * 2.2);
  }
}
@media (max-width:480px){
  .nonogram-grid{
    --nonogram-cell-size:24px;
    --nonogram-clue-offset:calc(var(--nonogram-cell-size) * 2.6);
  }
  .nonogram-tool{
    flex:1 1 45%;
    justify-content:center;
  }
}
@keyframes sudoku-error{0%,100%{background:color-mix(in srgb,#b00020,transparent 75%);color:var(--fg)}50%{background:#b00020;color:#fff}}
@keyframes sudoku-highlight-band{0%,100%{box-shadow:0 0 0 1px color-mix(in srgb,var(--accent),transparent 55%) inset;}50%{box-shadow:0 0 0 4px color-mix(in srgb,var(--accent),transparent 70%) inset;}}
@keyframes sudoku-highlight-focus{0%,100%{box-shadow:0 0 0 2px color-mix(in srgb,var(--accent),transparent 35%) inset;}50%{box-shadow:0 0 0 5px color-mix(in srgb,var(--accent),transparent 55%) inset;}}
@keyframes sudoku-target-pulse{0%,100%{box-shadow:0 0 0 2px color-mix(in srgb,var(--accent),transparent 35%) inset;}50%{box-shadow:0 0 0 4px color-mix(in srgb,var(--accent),transparent 20%) inset;}}
@keyframes sudoku-confetti{0%{transform:translateY(-14px)}50%{transform:translateY(14px)}100%{transform:translateY(-14px)}}
